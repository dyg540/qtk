<!DOCTYPE html>
<html>
	<head><title>Tester</title>
    <script src='../index.js'></script>
	<script type="application/javascript">
		var app = new qtk.Application.create("test");

		window.onload = function() {
			app.init({themeDataURL:"/www/theme/default/theme.json"});
			
			app.on(qtk.Events.READY, function() {
				var vp = app.getViewPort();
				var win = qtk.WindowNormal.createEx(app, {hasOwnCanvas:true});

				win.x = 20;
				win.y = 50;
				win.w = vp.width;
				win.h = vp.height;
				win.styleType = "window";
				win.childrenLayouter = qtk.SimpleLayouter.create();

				var button = qtk.Button.create();
				button.name = "button1";
				button.layoutParam = qtk.SimpleLayouterParam.create("25%", "10px", "50%", "60px");
				win.addChild(button);

				var button = qtk.Button.create();
				button.styleType = "button-blue";
				button.name = "button2";
				button.layoutParam = qtk.SimpleLayouterParam.create("-240px", "90px", "200px", "60px");
				button.text = "OK";
				win.addChild(button);
				
				var image = qtk.Image.create();
				image.name = "image1";
				image.layoutParam = qtk.SimpleLayouterParam.create("25%", "25%", "50%", "50%");
				image.value = "/www/test.jpg";
				image.drawType = qtk.ImageDrawType.AUTO; 
				win.addChild(image);
				
				button.on(qtk.Events.POINTER_DOWN, evt => {
					console.log("pointer down:" + button.name);
				});
				button.on(qtk.Events.POINTER_UP, evt => {
					console.log("pointer up:" + button.name);
				});
				
				button.on(qtk.Events.CLICK, evt => {
					evt.stopPropagation();
					console.log("click:" + button.name);
				});

				win.on(qtk.Events.POINTER_UP, evt => {
					console.log("pointer up:" + win.name);
				});
				win.on(qtk.Events.POINTER_UP, evt => {
					console.log("pointer up capture:" + win.name);
				}, true);


				app.mainLoop.requestRedraw();
			});
		}

	</script>
</head>
<body>
</body>
</html>
